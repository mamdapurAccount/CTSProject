1. Create the app

npx create-react-app react-crud-axios
cd react-crud-axios

2. Install dependencies

npm install @mui/material @emotion/react @emotion/styled @mui/icons-material
npm install axios

Final Structure

src/
├── App.js
├── components/
│   ├── UserForm.js
│   └── UserList.js
└── index.js


3.components/UserForm.js

import React, { useState, useEffect } from 'react';
import { TextField, Button, Box } from '@mui/material';

function UserForm({ onSubmit, editingUser }) {
  const [form, setForm] = useState({ name: '', email: '' });

  useEffect(() => {
    if (editingUser) setForm(editingUser);
  }, [editingUser]);

  const handleChange = (e) => {
    setForm({ ...form, [e.target.name]: e.target.value });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    if (!form.name || !form.email) return alert('All fields are required!');
    onSubmit(form);
    setForm({ name: '', email: '' });
  };

  return (
    <Box
      component="form"
      onSubmit={handleSubmit}
      sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}
    >
      <TextField
        name="name"
        label="Name"
        value={form.name}
        onChange={handleChange}
        required
      />
      <TextField
        name="email"
        label="Email"
        value={form.email}
        onChange={handleChange}
        required
      />
      <Button variant="contained" color="primary" type="submit">
        {editingUser ? 'Update' : 'Add'}
      </Button>
    </Box>
  );
}

export default UserForm;


4.components/UserList.js

import React from 'react';
import {
  List,
  ListItem,
  ListItemText,
  ListItemSecondaryAction,
  IconButton,
  Typography,
} from '@mui/material';
import EditIcon from '@mui/icons-material/Edit';
import DeleteIcon from '@mui/icons-material/Delete';

function UserList({ users, onEdit, onDelete }) {
  return (
    <div>
      <Typography variant="h6">User List</Typography>
      <List>
        {users.map((user) => (
          <ListItem key={user.id} divider>
            <ListItemText primary={user.name} secondary={user.email} />
            <ListItemSecondaryAction>
              <IconButton color="primary" onClick={() => onEdit(user)}>
                <EditIcon />
              </IconButton>
              <IconButton color="error" onClick={() => onDelete(user.id)}>
                <DeleteIcon />
              </IconButton>
            </ListItemSecondaryAction>
          </ListItem>
        ))}
      </List>
    </div>
  );
}

export default UserList;

5.App.js

import React, { useEffect, useState } from 'react';
import axios from 'axios';
import { Container, Typography, Divider } from '@mui/material';
import UserForm from './components/UserForm';
import UserList from './components/UserList';

const API_URL = 'https://jsonplaceholder.typicode.com/users';

function App() {
  const [users, setUsers] = useState([]);
  const [editingUser, setEditingUser] = useState(null);

  // Fetch all users
  const fetchUsers = async () => {
    try {
      const response = await axios.get(API_URL);
      setUsers(response.data);
    } catch (error) {
      console.error('Error fetching users:', error);
    }
  };

  useEffect(() => {
    fetchUsers();
  }, []);

  // Add new user
  const addUser = async (user) => {
    try {
      const response = await axios.post(API_URL, user);
      setUsers([...users, response.data]);
    } catch (error) {
      console.error('Error adding user:', error);
    }
  };

  // Update user
  const updateUser = async (updatedUser) => {
    try {
      const response = await axios.put(`${API_URL}/${updatedUser.id}`, updatedUser);
      setUsers(users.map((u) => (u.id === updatedUser.id ? response.data : u)));
      setEditingUser(null);
    } catch (error) {
      console.error('Error updating user:', error);
    }
  };

//Delete User
  const deleteUser = async (id) => {
    try {
      await fetch(`${API_URL}/${id}`, {
        method: 'DELETE',
      });
      setUsers(users.filter((u) => u.id !== id));
    } catch (error) {
      console.error('Delete error:', error);
    }
  };

  return (
    <Container>
      <Typography variant="h4" gutterBottom sx={{ mt: 3 }}>
        React CRUD (fetch + Material UI)
      </Typography>
      <UserForm onSubmit={editingUser ? updateUser : addUser} editingUser={editingUser} />
      <Divider sx={{ my: 3 }} />
      <UserList users={users} onEdit={setEditingUser} onDelete={deleteUser} />
    </Container>
  );
}



6.index.js

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import CssBaseline from '@mui/material/CssBaseline';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <>
    <CssBaseline />
    <App />
  </>
);


7. Setup json-server


npm install -g json-server

Create db.json file:
{
  "users": [
    { "id": 1, "name": "Rakesh Srivastaw", "email": "rakesh@example.com" },
    { "id": 2, "name": "Naveen Kumar", "email": "naveen@example.com" }
  ]
}

json-server --watch db.json --port 4000

http://localhost:4000/users
